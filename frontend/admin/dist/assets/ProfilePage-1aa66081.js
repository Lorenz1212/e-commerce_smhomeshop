import{u as O,a as N,j as e,C as _,K as P,L as k,r as x,b as $,c as y,S as u,d as F,e as j,f as D,g as C,R,h as g,O as V,P as S,N as I}from"./index-47a86244.js";const B=()=>{const s=O(),{currentUser:a}=N();return e.jsx(e.Fragment,{children:e.jsx(_,{children:e.jsx("div",{className:"card mb-5 mb-xl-10",children:e.jsxs("div",{className:"card-body pt-9 pb-0",children:[e.jsxs("div",{className:"d-flex flex-wrap flex-sm-nowrap mb-3",children:[e.jsx("div",{className:"me-7 mb-4",children:e.jsx("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative",children:e.jsx("img",{src:a==null?void 0:a.image,alt:a==null?void 0:a.fullname})})}),e.jsx("div",{className:"flex-grow-1",children:e.jsx("div",{className:"d-flex justify-content-between align-items-start flex-wrap mb-2",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("a",{href:"#",className:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1",children:a==null?void 0:a.fullname}),e.jsx("a",{href:"#",className:"btn btn-sm btn-light-success fw-bolder ms-2 fs-8 py-1 px-3","data-bs-toggle":"modal","data-bs-target":"#kt_modal_upgrade_plan",children:a==null?void 0:a.account_no})]}),e.jsxs("div",{className:"d-flex flex-wrap fw-bold fs-6 mb-4 pe-2",children:[e.jsxs("a",{href:"#",className:"d-flex align-items-center text-gray-500 text-hover-primary me-5 mb-2",children:[e.jsx(P,{iconName:"profile-circle",className:"fs-4 me-1"}),a==null?void 0:a.role_name]}),e.jsxs("a",{href:"#",className:"d-flex align-items-center text-gray-500 text-hover-primary mb-2",children:[e.jsx(P,{iconName:"sms",className:"fs-4 me-1"}),a==null?void 0:a.email]})]})]})})})]}),e.jsx("div",{className:"d-flex overflow-auto h-55px",children:e.jsxs("ul",{className:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bolder flex-nowrap",children:[e.jsx("li",{className:"nav-item",children:e.jsx(k,{className:"nav-link text-active-primary me-6 "+(s.pathname==="/profile/overview"&&"active"),to:"/profile/overview",children:"Overview"})}),e.jsx("li",{className:"nav-item",children:e.jsx(k,{className:"nav-link text-active-primary me-6 "+(s.pathname==="/profile/settings"&&"active"),to:"/profile/settings",children:"Settings"})})]})})]})})})})};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,o,d)=>d?d.toUpperCase():o.toLowerCase()),E=s=>{const a=W(s);return a.charAt(0).toUpperCase()+a.slice(1)},M=(...s)=>s.filter((a,o,d)=>!!a&&a.trim()!==""&&d.indexOf(a)===o).join(" ").trim(),z=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=x.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:f="",children:r,iconNode:i,...t},n)=>x.createElement("svg",{ref:n,...T,width:a,height:a,stroke:s,strokeWidth:d?Number(o)*24/Number(a):o,className:M("lucide",f),...!r&&!z(t)&&{"aria-hidden":"true"},...t},[...i.map(([c,m])=>x.createElement(c,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(s,a)=>{const o=x.forwardRef(({className:d,...f},r)=>x.createElement(Z,{ref:r,iconNode:a,className:M(`lucide-${K(E(s))}`,`lucide-${s}`,d),...f}));return o.displayName=E(s),o};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],H=q("eye-off",G);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q=q("eye",J),X={email:"",confirm_password:""},Y={current_password:"",new_password:"",new_password_confirmation:""},U=()=>{const{showLoader:s,hideLoader:a}=$();return{viewProfileDetails:async r=>{var i,t;try{return s(),(await y.get(`/core/user/${r}/edit`)).data}catch(n){return u.fire({icon:"error",title:(t=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:t.errors}),null}finally{a()}},changeEmail:async r=>{var i,t,n,c,m;try{s();const l=await y.post("/admin/update_email",r);return u.fire({icon:(i=l.data)==null?void 0:i.status,title:(t=l.data)==null?void 0:t.message}),(n=l.data)==null?void 0:n.status}catch(l){let p="Something went wrong";((c=l.response)==null?void 0:c.status)===422&&((m=l.response.data)!=null&&m.errors)&&(p=Object.values(l.response.data.errors).flat().join(`
`)),u.fire({icon:"error",title:p})}finally{a()}},changePassword:async r=>{var i,t,n,c,m;try{s();const l=await y.post("/admin/change_password",r);return u.fire({icon:(i=l.data)==null?void 0:i.status,title:(t=l.data)==null?void 0:t.message}),(n=l.data)==null?void 0:n.status}catch(l){let p="Something went wrong";((c=l.response)==null?void 0:c.status)===422&&((m=l.response.data)!=null&&m.errors)&&(p=Object.values(l.response.data.errors).flat().join(`
`)),u.fire({icon:"error",title:p})}finally{a()}}}},v=({id:s,label:a,placeholder:o,field:d,error:f,touched:r})=>{const[i,t]=x.useState(!1);return e.jsxs("div",{className:"fv-row mb-0",children:[e.jsx("label",{htmlFor:s,className:"form-label fs-6 fw-bolder mb-3",children:a}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:i?"text":"password",className:"form-control form-control-lg form-control-solid",id:s,placeholder:o,...d}),e.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>t(!i),children:i?e.jsx(H,{size:18}):e.jsx(Q,{size:18})})]}),r&&f&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:f})})]})},ee=F().shape({email:j().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Email is required"),confirm_password:j().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required")}),se=F().shape({current_password:j().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),new_password:j().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required"),new_password_confirmation:j().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Password is required").oneOf([D("new_password")],"Passwords must match")}),ae=()=>{const{currentUser:s}=N(),{changeEmail:a,changePassword:o}=U(),{auth:d,requestUser:f}=N(),[r,i]=x.useState(X),[t,n]=x.useState(Y),[c,m]=x.useState(!1),[l,p]=x.useState(!1),b=C({initialValues:{...r},validationSchema:ee,onSubmit:async w=>{await a(w)==="success"&&(i(w),m(!1),f(d))}}),h=C({initialValues:{...t},validationSchema:se,onSubmit:async w=>{await o(w)==="success"&&(n(w),p(!1))}});return e.jsxs("div",{className:"card mb-5 mb-xl-10",children:[e.jsx("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_signin_method",children:e.jsx("div",{className:"card-title m-0",children:e.jsx("h3",{className:"fw-bolder m-0",children:"Sign-in Method"})})}),e.jsx("div",{id:"kt_account_signin_method",className:"collapse show",children:e.jsxs("div",{className:"card-body border-top p-9",children:[e.jsxs("div",{className:"d-flex flex-wrap align-items-center",children:[e.jsxs("div",{id:"kt_signin_email",className:" "+(c&&"d-none"),children:[e.jsx("div",{className:"fs-6 fw-bolder mb-1",children:"Email Address"}),e.jsx("div",{className:"fw-bold text-gray-600",children:s==null?void 0:s.email})]}),e.jsx("div",{id:"kt_signin_email_edit",className:"flex-row-fluid "+(!c&&"d-none"),children:e.jsxs("form",{onSubmit:b.handleSubmit,id:"kt_signin_change_email",className:"form",noValidate:!0,children:[e.jsxs("div",{className:"row mb-6",children:[e.jsx("div",{className:"col-lg-6 mb-4 mb-lg-0",children:e.jsxs("div",{className:"fv-row mb-0",children:[e.jsx("label",{htmlFor:"emailaddress",className:"form-label fs-6 fw-bolder mb-3",children:"Enter New Email Address"}),e.jsx("input",{type:"email",className:"form-control form-control-lg form-control-solid",id:"emailaddress",placeholder:"Email Address",...b.getFieldProps("email")}),b.touched.email&&b.errors.email&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:b.errors.email})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx(v,{id:"confirmemailpassword",label:"Confirm Password",field:b.getFieldProps("confirm_password"),error:b.errors.confirm_password,touched:b.touched.confirm_password})})]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{type:"submit",className:"btn btn-primary me-2 px-6",children:"Update Email"}),e.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-color-gray-500 btn-active-light-primary px-6",children:"Cancel"})]})]})}),e.jsx("div",{id:"kt_signin_email_button",className:"ms-auto "+(c&&"d-none"),children:e.jsx("button",{onClick:()=>m(!0),className:"btn btn-light btn-active-light-primary",children:"Change Email"})})]}),e.jsx("div",{className:"separator separator-dashed my-6"}),e.jsxs("div",{className:"d-flex flex-wrap align-items-center mb-10",children:[e.jsxs("div",{id:"kt_signin_password",className:" "+(l&&"d-none"),children:[e.jsx("div",{className:"fs-6 fw-bolder mb-1",children:"Password"}),e.jsx("div",{className:"fw-bold text-gray-600",children:"************"})]}),e.jsx("div",{id:"kt_signin_password_edit",className:"flex-row-fluid "+(!l&&"d-none"),children:e.jsxs("form",{onSubmit:h.handleSubmit,id:"kt_signin_change_password",className:"form",noValidate:!0,children:[e.jsxs("div",{className:"row mb-1",children:[e.jsx("div",{className:"col-lg-4",children:e.jsx(v,{id:"currentpassword",label:"Current Password",field:h.getFieldProps("current_password"),error:h.errors.current_password,touched:h.touched.current_password})}),e.jsx("div",{className:"col-lg-4",children:e.jsx(v,{id:"newpassword",label:"New Password",field:h.getFieldProps("new_password"),error:h.errors.new_password,touched:h.touched.new_password})}),e.jsx("div",{className:"col-lg-4",children:e.jsx(v,{id:"confirmpassword",label:"Confirm New Password",field:h.getFieldProps("new_password_confirmation"),error:h.errors.new_password_confirmation,touched:h.touched.new_password_confirmation})})]}),e.jsx("div",{className:"form-text mb-5",children:"Password must be at least 8 characters and contain symbols"}),e.jsxs("div",{className:"d-flex",children:[e.jsx("button",{type:"submit",className:"btn btn-primary me-2 px-6",children:"Update Password"}),e.jsx("button",{onClick:()=>p(!1),type:"button",className:"btn btn-color-gray-500 btn-active-light-primary px-6",children:"Cancel"})]})]})}),e.jsx("div",{id:"kt_signin_password_button",className:"ms-auto "+(l&&"d-none"),children:e.jsx("button",{onClick:()=>p(!0),className:"btn btn-light btn-active-light-primary",children:"Reset Password"})})]})]})})]})};function le(){return e.jsx(_,{children:e.jsx(ae,{})})}function re(){const{currentUser:s}=N();return e.jsx(_,{children:e.jsxs("div",{className:"card mb-5 mb-xl-10",id:"kt_profile_details_view",children:[e.jsx("div",{className:"card-header cursor-pointer",children:e.jsx("div",{className:"card-title m-0",children:e.jsx("h3",{className:"fw-bolder m-0",children:"Profile Details"})})}),e.jsxs("div",{className:"card-body p-9",children:[e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Full Name"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bolder fs-6 text-gray-900",children:s==null?void 0:s.fullname})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Gender"}),e.jsx("div",{className:"col-lg-8 d-flex align-items-center",children:e.jsx("span",{className:"fw-bolder fs-6 me-2",children:(s==null?void 0:s.gender)??"N/A"})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Birth Date"}),e.jsx("div",{className:"col-lg-8 d-flex align-items-center",children:e.jsx("span",{className:"fw-bolder fs-6 me-2",children:(s==null?void 0:s.birthdate)??"N/A"})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Age"}),e.jsx("div",{className:"col-lg-8 d-flex align-items-center",children:e.jsx("span",{className:"fw-bolder fs-6 me-2",children:(s==null?void 0:s.age)??"N/A"})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Contact Phone"}),e.jsx("div",{className:"col-lg-8 d-flex align-items-center",children:e.jsx("span",{className:"fw-bolder fs-6 me-2",children:(s==null?void 0:s.contact_no)??"N/A"})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Address"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bold fs-6 text-gray-900 text-hover-primary",children:(s==null?void 0:s.address)??"N/A"})})]})]})]})})}const A=[{title:"Profile",path:"/profile/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],te=()=>e.jsx(R,{children:e.jsxs(g,{element:e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsx(V,{})]}),children:[e.jsx(g,{path:"overview",element:e.jsxs(e.Fragment,{children:[e.jsx(S,{breadcrumbs:A,children:"Overview"}),e.jsx(re,{})]})}),e.jsx(g,{path:"settings",element:e.jsxs(e.Fragment,{children:[e.jsx(S,{breadcrumbs:A,children:"Settings"}),e.jsx(le,{})]})}),e.jsx(g,{index:!0,element:e.jsx(I,{to:"/profile/overview"})})]})});export{te as default};
