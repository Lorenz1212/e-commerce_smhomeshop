import{r as h,j as e,K as o,M as R}from"./index-04b06589.js";function T({data:c=[],columns:a=[],pagination:l,loading:d=!1,onPageChange:n,onSortChange:m,sortColumn:j,sortDirection:p,onSearchChange:i,classNameCard:b="card-flush",cardTitle:k="",cardSubTitle:f="",scrollHeight:N}){const[w,v]=h.useState(""),x=h.useRef(null),y=s=>{if(!m)return;m(s,j===s&&p==="asc"?"desc":"asc")},_=s=>{const t=s.target.value;v(t),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{i==null||i(t)},500)},u=s=>{s>=1&&s<=((l==null?void 0:l.last_page)||1)&&(n==null||n(s))};return e.jsxs("div",{className:`card ${b} shadow p-3 mb-5 rounded`,children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center border-0 pt-5",children:[e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:k}),f&&e.jsx("span",{className:"text-muted mt-1 fw-semibold fs-7",children:f})]}),i&&e.jsx("div",{className:"card-toolbar",children:e.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search...",value:w,onChange:_})})]}),e.jsxs("div",{className:"card-body pt-0",children:[e.jsx("div",{className:"table-responsive",style:N?{maxHeight:N,overflowY:"auto"}:{},children:e.jsxs("table",{className:"table align-middle table-row-dashed fs-6 gy-5",children:[e.jsx("thead",{children:e.jsx("tr",{className:"text-start text-gray-400 fw-bold fs-7 text-uppercase gs-0",children:a.map((s,t)=>e.jsxs("th",{style:{cursor:s.sortable?"pointer":"default",whiteSpace:"nowrap"},onClick:()=>s.sortable&&y(s.key.toString()),children:[s.title,j===s.key&&e.jsx("span",{className:"ms-1",children:p==="asc"?"▲":"▼"})]},t))})}),e.jsx("tbody",{children:d?e.jsx("tr",{children:e.jsx("td",{colSpan:a.length,className:"text-center",children:"Loading..."})}):c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:a.length,className:"text-center text-muted py-5",children:e.jsxs("div",{className:"d-flex flex-column align-items-center",children:[e.jsx(o,{iconName:"abstract-26",className:"fs-1"}),e.jsx("span",{className:"fw-semibold fs-3",children:"No records found"})]})})}):c.map((s,t)=>e.jsx("tr",{children:a.map((r,g)=>e.jsx("td",{children:r.render?r.render(s):s[r.key]},g))},t))})]})}),l&&e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-4",children:[e.jsxs("span",{className:"text-muted",children:["Page ",l.current_page," of ",l.last_page]}),e.jsxs("ul",{className:"pagination mb-0",children:[e.jsx("li",{className:`page-item ${l.current_page===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(l.current_page-1),children:"←"})}),[...Array(l.last_page)].map((s,t)=>{const r=t+1;return e.jsx("li",{className:`page-item ${l.current_page===r?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(r),children:r})},r)}),e.jsx("li",{className:`page-item ${l.current_page===l.last_page?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>u(l.current_page+1),children:"→"})})]})]})]})]})}const C=({openDetailsModal:c,openEditModal:a,archiveAction:l,restoreAction:d,resetAction:n})=>c||a||l||d?(h.useEffect(()=>{R.reinitialization()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:["Actions",e.jsx(o,{iconName:"down",className:"fs-5 m-0"})]}),e.jsxs("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[c&&e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:()=>c(),children:"View Details"})}),a&&e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:()=>a(),children:"Edit"})}),l&&e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:()=>l(),"data-kt-users-table-filter":"delete_row",children:"Archive"})}),d&&e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:()=>d(),"data-kt-users-table-filter":"delete_row",children:"Restore"})}),n&&e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:()=>n(),"data-kt-users-table-filter":"delete_row",children:"Reset Password"})})]})]})):null;export{C as A,T as D};
